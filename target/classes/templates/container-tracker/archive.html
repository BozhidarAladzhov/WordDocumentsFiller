<!DOCTYPE html>
<html lang="bg" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Container Tracker - Archive</title>
    <link rel="stylesheet" href="/css/app.css">
</head>
<body>
<div th:replace="fragments/navbar :: main-nav"></div>

<div class="container tools tracker tracker--wide">
    <h1 style="text-align:left;margin-top:20px;">Container Archive</h1>
    <div class="tracker-actions" style="margin-bottom:12px;">
        <a class="btn btn-ghost" th:href="@{/container-tracker/containers}">Active Containers</a>
    </div>

    <div class="card">
        <h2 style="margin-top:0;">Archived Containers</h2>

        <div class="table-wrap">
            <table class="table">
                <thead>
                <tr>
                    <th>Container</th>
                    <th>BOL</th>
                    <th>Carrier</th>
                    <th>ETA</th>
                    <th>Status</th>
                    <th>Open</th>
                    <th>Unarchive</th>
                    <th>Delete</th>
                </tr>
                </thead>
                <tbody>
                <tr th:if="${#lists.isEmpty(containers)}">
                    <td colspan="8">No archived containers.</td>
                </tr>
                <tr th:each="c : ${containers}">
                    <td><span class="kbd" th:text="${c.containerNo}"></span></td>
                    <td th:text="${c.bol}"></td>
                    <td th:text="${c.carrier}"></td>
                    <td th:text="${c.eta != null ? #temporals.format(c.eta, 'dd.MM.yyyy') : ''}"></td>
                    <td><span class="badge warn" th:text="${c.status}"></span></td>
                    <td>
                        <a class="btn btn-ghost"
                           th:href="@{/container-tracker/containers/{id}(id=${c.id})}">Details</a>
                    </td>
                    <td>
                        <form th:action="@{/container-tracker/containers/{id}/unarchive(id=${c.id})}"
                              method="post">
                            <button type="submit" class="btn-sm">Unarchive</button>
                        </form>
                    </td>
                    <td>
                        <form th:action="@{/container-tracker/containers/{id}/delete(id=${c.id})}"
                              method="post"
                              onsubmit="return confirm('Delete this container? This will delete all vehicles inside it.');">
                            <button type="submit" class="btn-sm btn-sm--danger">Delete</button>
                        </form>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="/js/app.js"></script>
</body>
</html>
